<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <style>
      body { margin: 0; font-family: Arial, sans-serif; }
      .header { display: flex; align-items: center; justify-content: space-between; background-color: #1e90ff; color: white; padding: 20px; }
      .header img { height: 120px; }
      .header-title { text-align: center; flex-grow: 1; }
      .header-title h1 { margin: 0; font-size: 36px; }
      .header-title .datetime { font-size: 18px; margin-top: 8px; }
      .weather { text-align: right; }
      .weather div { line-height: 1.2; }
    </style>
    <script>
      function updateDateTime() {
        var now = new Date();
        document.getElementById('datetime').textContent = now.toLocaleString();
      }

      function updateWeather(data) {
        if (data) {
          document.getElementById('weather-temp').textContent = 'Temp: ' + data.temperature + 'Â°C';
          document.getElementById('weather-condition').textContent = data.condition;
        } else {
          document.getElementById('weather-temp').textContent = '';
          document.getElementById('weather-condition').textContent = 'Weather unavailable';
        }
      }

      function init() {
        updateDateTime();
        setInterval(updateDateTime, 60000);
        google.script.run.withSuccessHandler(updateWeather).getWeather();
      }
    </script>
  </head>
  <body onload="init()">
    <div class="header">
      <div class="logo">
        <img src="https://www.dublincleaners.com/wp-content/uploads/2025/06/LogosHQ.png" alt="Logo">
      </div>
      <div class="header-title">
        <h1>Route Operations Dashboard</h1>
        <div id="datetime" class="datetime"></div>
      </div>
      <div id="weather" class="weather">
        <div id="weather-temp"></div>
        <div id="weather-condition"></div>
      </div>
    </div>
  </body>
</html>
